import java.util.Stack;

public class ArithmeticCalculation {
	Stack<Integer> operand;
	Stack<Character> operator;
	
	public ArithmeticCalculation() {
		this.operand = new Stack<>();
		this.operator = new Stack<>();
	}
	
	public int calculate(String eq) {
		for (int i = 0; i < eq.length(); i++) {
			if (eq.charAt(i) == '(') continue;
			if (eq.charAt(i) == '+' || eq.charAt(i) == '*') this.operator.push(eq.charAt(i));
			if (eq.charAt(i) == ')') {
				int n2 = this.operand.pop();
				int n1 = this.operand.pop();
				Character op = this.operator.pop();
				if (op == '*') this.operand.push(n1 * n2);
				else if (op == '+') this.operand.push(n1 + n2);
				else this.operand.push((int)eq.charAt(i));
			}
		}
		return this.operand.pop(); 
	}
	
	public static void main() {
		ArithmeticCalculation o = new ArithmeticCalculation();
		String eq = "(1+((2+3)*(4*5)))";
		System.out.println(o.calculate(eq));
	}
}
